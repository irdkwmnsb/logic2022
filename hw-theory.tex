\documentclass[10pt,a4paper,oneside]{article}
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{enumerate}
\usepackage{stmaryrd}
\usepackage{cmll}
\usepackage{mathrsfs}
\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm,bindingoffset=0cm]{geometry}
\usepackage{proof}
\usepackage{tikz}
\usepackage{multicol}
\usepackage{mathabx}

\makeatletter
\newcommand{\dotminus}{\mathbin{\text{\@dotminus}}}

\newcommand{\@dotminus}{%
  \ooalign{\hidewidth\raise1ex\hbox{.}\hidewidth\cr$\m@th-$\cr}%
}
\makeatother

\usetikzlibrary{arrows,backgrounds,patterns,matrix,shapes,fit,calc,shadows,plotmarks}

\newtheorem{definition}{Определение}
\begin{document}

\begin{center}{\Large\textsc{\textbf{Теоретические домашние задания}}}\\
             \it Математическая логика, ИТМО, М3235-М3239, весна 2022 года\end{center}

\section*{Задание №1. Знакомство с классическим исчислением высказываний.}

\begin{enumerate}

\item Будем говорить, что высказывание $\alpha$ выводится из гипотез $\gamma_1, \gamma_2, \dots, \gamma_n$
(и записывать это как $\gamma_1, \gamma_2, \dots, \gamma_n \vdash \alpha$), если существует
такой вывод $\delta_1, \delta_2, \dots, \delta_n$, что $\alpha\equiv\delta_n$, и каждый из $\delta_i$
есть либо гипотеза, либо аксиома, либо получается из каких-то предыдущих высказываний по правилу
Modus Ponens. Несколько гипотез мы можем обозначить какой-нибудь большой буквой середины греческого 
алфавита ($\Gamma,\Delta,\Pi,\Sigma,\Xi$): например, $\Gamma,\alpha,\beta\vdash\sigma$; здесь
$\Gamma$ обозначает какое-то множество гипотез.



Докажите:
\begin{enumerate}
\item $\vdash (A \rightarrow A \rightarrow B) \rightarrow (A \rightarrow B)$
\item $\vdash A \with B \rightarrow B \with A$
\item $\vdash A \with B \rightarrow A \vee B$
\item $\vdash A \rightarrow \neg \neg A$
\item $A \with \neg A \vdash B$
\item $\vdash \neg (A \with \neg A)$
\end{enumerate}

\item Известна теорема о дедукции: $\Gamma, \alpha \vdash \beta$ тогда и только тогда, 
когда $\Gamma \vdash \alpha \rightarrow \beta$. Теорема доказывается конструктивно, то есть
она даёт метод для перестроения одного вывода в другой.
В рамках данного задания разрешается результат её применения вписать как часть другого вывода 
как <<чёрный ящик>> (как макроподстановку). Докажите с её использованием:
\begin{enumerate}
\item $\neg A, B \vdash \neg(A\& B)$
\item $A,\neg B \vdash \neg( A\& B)$
\item $\neg A,\neg B \vdash \neg( A\& B)$
\item $\neg A,\neg B \vdash \neg( A\vee B)$
\item $ A,\neg B \vdash \neg( A\rightarrow B)$
\item $\neg A, B \vdash  A\rightarrow B$
\item $\neg A,\neg B \vdash  A\rightarrow B$
\item $\vdash A \with (B \with B) \rightarrow A \with B$
\item $\vdash (A \rightarrow B) \rightarrow (B \rightarrow C) \rightarrow (A \rightarrow C)$
\item $\vdash (A \rightarrow B) \rightarrow (\neg B \rightarrow \neg A)$ \emph{(закон контрапозиции)}
\item $\vdash A \with B \rightarrow \neg (\neg A \vee \neg B)$ \emph{(правило де Моргана)}
\item $\vdash \neg (\neg A \with \neg B) \rightarrow A \vee B$ \emph{(правило де Моргана)}
\item $\vdash A \with (B \vee C) \rightarrow (A \with B) \vee (A \with C)$ \emph{(дистрибутивность 1)}
\item $\vdash A \vee (B \with C) \rightarrow (A \vee B) \with (A \vee C)$ \emph{(дистрибутивность 2)}
\end{enumerate}

\item Существует несколько аналогов схемы аксиом 10 (аксиомы снятия двойного отрицания). Докажите при любых
высказываниях $\alpha$ и $\beta$:
\begin{enumerate}
\item $\vdash \alpha \vee \neg \alpha$ \emph{(правило исключённого третьего)}
\item $\vdash ((\alpha \rightarrow \beta) \rightarrow \alpha)\rightarrow \alpha$ \emph{(закон Пирса)}
\item Предположим, 10 схема аксиом заменена на две другие схемы аксиом: 
$((\alpha\rightarrow\beta)\rightarrow\alpha)\rightarrow\alpha$ и $\alpha\rightarrow\neg\alpha\rightarrow\beta$.
В этих условиях покажите $\neg\neg \alpha\rightarrow \alpha$.
\item Предположим, 10 схема аксиом заменена на две другие схемы аксиом: 
$\alpha\vee\neg\alpha$ и $\alpha\rightarrow\neg\alpha\rightarrow\beta$.
В этих условиях покажите 
$\neg\neg \alpha\rightarrow \alpha$.
\end{enumerate}

\item Докажите следующие <<странные>> формулы:
\begin{enumerate}
\item $\vdash (A \rightarrow B) \vee (B \rightarrow A)$. В самом деле, получается, что из любых двух 
наугад взятых фактов либо первый следует из второго, либо второй из первого. Например <<выполнено как
минимум одно из утверждений: (а) если сегодня пасмурно, то курс матлогики все сдадут на A; (б) наоборот, если все сдадут курс матлогики на A,
то сегодня пасмурно>>.
\item Обобщение предыдущего пункта: при любом $n\ge 1$ и любых $\alpha_1, \dots, \alpha_n$ выполнено 
$\vdash (\alpha_1 \rightarrow \alpha_2) \vee (\alpha_2 \rightarrow \alpha_3) \vee \dots \vee (\alpha_{n-1}\rightarrow\alpha_n)
\vee (\alpha_n\rightarrow\alpha_1)$
\end{enumerate}

\item В рамках данного задания неравными высказываниями будем называть высказывания
$\alpha$ и $\beta$, у которых нет такого переименования переменных, чтобы их
таблицы истинности совпали. Например, $A$ и $B\with B$ --- равные высказывания,
ведь высказывания $E$ и $E\with E$ имеют одну и ту же таблицу истинности:

\begin{center}\begin{tabular}{c|c}
$E$ & $E \with E$\\\hline
И & И\\\hline
Л & Л
\end{tabular}\end{center}

Однако, высказывания $A$ и $A \rightarrow A$ не равны.

Даны высказывания $\alpha$ и $\beta$, причём $\vdash \alpha\rightarrow\beta$ и $\alpha\ne\beta$. 
Укажите способ построения высказывания $\gamma$, такого, что
$\vdash\alpha\rightarrow\gamma$ и $\vdash\gamma\rightarrow\beta$, причём $\alpha\ne\gamma$ и
$\beta\ne\gamma$ .

\item Покажите, что если $\alpha \vdash \beta$ и $\neg\alpha\vdash\beta$, то $\vdash\beta$.
\end{enumerate}

\section*{Задание №2. Теоремы о корректности и полноте классического исчисления высказываний. Интуиционистская логика.}

\begin{enumerate}

\item Теоремы о корректности и полноте классического исчисления высказываний.
\begin{enumerate}
\item Заполните пробел в доказательстве корректности исчисления высказываний: 
покажите, что если $\vdash \alpha$ и в доказательстве высказывание
$\delta_n$ получено с помощью Modus Ponens из $\delta_j$ и $\delta_k \equiv \delta_j\rightarrow\delta_n$,
то $\models \delta_n$.

\item Покажите, что если $\Gamma \vdash \alpha$, то $\Gamma \models \alpha$.
\item Покажите, что если $\Gamma \models \alpha$, то $\Gamma \vdash \alpha$.
\end{enumerate}

\item Предложите топологические пространства и оценку для пропозициональных переменных,
опровергающие следующие высказывания:

\begin{enumerate}
\item $A \vee \neg A$ (на лекции приводился пример в $\mathbb{R}$; в данном же задании предложите оценку в 
каком-то другом пространстве, например в $\mathbb{R}^2$)
\item $(((A \rightarrow B) \rightarrow A) \rightarrow A)$
\item $\neg\neg A \rightarrow A$
\item $(A \rightarrow (B \vee \neg B)) \vee (\neg A \rightarrow (B \vee \neg B))$
\item $(A \rightarrow B) \vee (B \rightarrow C) \vee (C \rightarrow A)$
\item $\bigvee_{i=1,n} \left((A_i \rightarrow A_{(i\mod n) + 1}) \with (A_{(i\mod n)+1} \rightarrow A_i)\right)$
\end{enumerate}

\item Доказуемы ли следующие высказывания в интуиционистской логике?
\begin{enumerate}
\item $\neg\neg\neg\neg A \rightarrow \neg\neg A$
\item $\neg A \vee \neg\neg A \vee \neg\neg\neg A$
\item $A \vee B \rightarrow \neg (\neg A \with \neg B)$
\item $\neg (\neg A \vee \neg B) \rightarrow A \with B$
\item $(A \rightarrow B) \rightarrow (\neg A \vee B)$
\item $(\neg A \vee B) \rightarrow (A \rightarrow B)$
\end{enumerate}

\item Известно, что в классической логике любая связка может быть \emph{выражена} как композиция 
конъюнкций и отрицаний: существует схема высказываний, использующая только конъюнкции и отрицания, 
задающая высказывание, логически эквивалентное исходной связке. 
Например, для импликации можно взять $\neg(\alpha\with\neg\beta)$, ведь 
$\alpha\rightarrow\beta\vdash\neg(\alpha\with\neg\beta)$ и $\neg(\alpha\with\neg\beta)\vdash\alpha\rightarrow\beta$. 
Возможно ли в интуиционистской логике выразить через остальные связки:
\begin{enumerate}
\item конъюнкцию?
\item дизъюнкцию?
\item импликацию?
\item отрицание?
\end{enumerate}
Если да, предложите формулу и два вывода. Если нет --- докажите это (например, предложив соответствующую
модель).

\item \emph{Теорема Гливенко.} Обозначим доказуемость высказывания $\alpha$ в классической логике 
как $\vdash_\text{к}\alpha$, а в интуиционистской --- как $\vdash_\text{и}\alpha$. 
Оказывается возможным показать, что какое бы ни было $\alpha$, если $\vdash_\text{к}\alpha$, 
то $\vdash_\text{и}\neg\neg\alpha$. А именно, покажите, что:

\begin{enumerate}
\item Если $\alpha$ --- аксиома, полученная из схем 1--9 исчисления высказываний, то $\vdash_\text{и}\neg\neg\alpha$.
\item $\vdash_\text{и}\neg\neg(\neg\neg\alpha\rightarrow\alpha)$
\item $\neg\neg\alpha,\neg\neg(\alpha\rightarrow\beta) \vdash_\text{и}\neg\neg\beta$
\item Докажите утверждение теоремы ($\vdash_\text{к}\alpha$ влечёт $\vdash_\text{и}\neg\neg\alpha$),
опираясь на предыдущие пункты, и покажите, что классическое исчисление высказываний противоречиво
тогда и только тогда, когда противоречиво интуиционистское.
\end{enumerate}

\item Возможно ли предложить такой набор множеств $S$ из $\mathbb{R}$ (формально: $S \subseteq \mathcal{P}(\mathbb{R})$), 
чтобы при выборе его в качестве истинностного множества $\mathbb{V}$, при сохранении правил вычисления
значений связок для интуиционистской логики, получилась бы полная и корректная модель для классического 
исчисления высказываний?

\item Пусть $S$ --- некоторое множество. Рассмотрим $\mathbb{V} = \mathcal{P}(S)$, 
определим связки так:
$$\begin{array}{ccc}
  \llbracket\alpha \with \beta\rrbracket & = & \llbracket\alpha\rrbracket \cap \llbracket\beta\rrbracket \\
  \llbracket\alpha \vee \beta\rrbracket & = & \llbracket\alpha\rrbracket \cup \llbracket\beta\rrbracket \\
  \llbracket\alpha \rightarrow \beta\rrbracket & = & S\setminus\llbracket\alpha\rrbracket \cup \llbracket\beta\rrbracket \\
  \llbracket\neg\alpha\rrbracket & = & S\setminus\llbracket\alpha\rrbracket  \\
\end{array}$$

Также, будем считать, что $\models \alpha$, если $\llbracket\alpha\rrbracket = S$.

Покажите, что получившееся:
\begin{enumerate}
\item корректная модель классического исчисления высказываний.
Для уменьшения рутинной работы достаточно показать выполнение схем аксиом 5,9,10 и правила Modus Ponens.

\item полная модель классического исчисления высказываний.
\end{enumerate}

\end{enumerate}

\section*{Задание №3. Интуиционистская логика и натуральный вывод.}

\begin{enumerate}
\item Напомним определения: \emph{замкнутое} множество --- такое, дополнение которого открыто.
\emph{Внутренностью} множества $A^\circ$ назовём наибольшее открытое множество, содержащееся в $A$.
\emph{Замыканием} множества $\overline{A}$ назовём наименьшее замкнутое множество, содержащее $A$.
Назовём \emph{окрестностью} точки $x$ такое открытое множество $V$, что $x \in V$.
Будем говорить, что точка $x \in A$ \emph{внутренняя}, если существует окрестность $V$, что $V \subseteq A$.
Точка $x\in A$ --- \emph{граничная}, если любая её окрестность $V$ пересекается как с $A$, так и с его дополнением.
\begin{enumerate}
\item Покажите, что $A$ открыто тогда и только тогда, когда все точки $A$ --- внутренние.
Также покажите, что $A^\circ = \{ x|x \in A \with x\text{ --- внутренняя точка}\}$.
\item Покажите, что $A$ замкнуто тогда и только когда, когда содержит все свои граничные точки.
Также покажите, что $\overline{A} = \{ x|x \in A \with x\text{ --- внутренняя или граничная точка}\}$.
Верно ли, что $\overline{A} = X \ ((X\setminus A)^\circ)$?
\item Покажите, что внутренность и замыкание корректно определены (что существуют соответствующие наибольшее и наименьшее множества).
\item Введём топологию на деревьях способом, рассмотренным на лекции. Рассмотрим некоторое множество
вершин $V$. Опишите множества $V^\circ$ и $\overline{V}$. Какие вершины будут являться граничными для $V$?
\item Пусть $A \subseteq B$. Как связаны $A^\circ$ и $B^\circ$, а также $\overline{A}$ и $\overline{B}$?
\item Верно ли $(A \cap B)^\circ = A^\circ \cap B^\circ$ и $(A \cup B)^\circ = A^\circ \cup B^\circ$?
\item Покажите, что $\overline{\left(\overline{A^\circ}\right)^\circ} = \overline{A^\circ}$.
\item \emph{Задача Куратовского.} Будем применять операции взятия внутренности и замыкания к некоторому множеству
всевозможными способами. Сколько различных множеств может всего получиться?
\end{enumerate}

\item Примеры топологий.
Для каждого из примеров ниже проверьте, задано ли в нём топологическое пространство, и ответьте на следующие вопросы, если это так:
каковы окрестности точек в данной топологии;
каковы будут внутренность и замыкание для данного множества (определите это прямо);
каковы замкнутые множества в данной топологии;
является ли данная топология моделью для классической логики;
связно ли данное пространство.

\begin{enumerate}
\item Топология Зарисского на $\mathbb{R}$: 
$\Omega = \{\varnothing\} \cup \{ X \subseteq \mathbb{R}\ |\ \mathbb{R} \setminus X\ \text{конечно} \}$,
то есть пустое множество и все множества с конечным дополнением.
\item Топология стрелки на $\mathbb{R}$:
$\Omega = \{\varnothing, \mathbb{R}\} \cup \{ (x,+\infty) | x \in \mathbb{R} \}$, то есть пустое, 
всё пространство и все открытые лучи.
\item Множество всех бесконечных подмножеств $\mathbb{R}$:
$\Omega = \{\varnothing\} \cup \{ X \subseteq \mathbb{R}\ |\ X\ \text{бесконечно} \}$
\item Множество всевозможных объединений арифметических прогрессий:
$A(a) = \{ a\cdot x\ |\ x \in \mathbb{Z}\}$;
$X \in \Omega$, если $X=\varnothing$ или $X = \bigcup_i A(a_i)$ (все $a_i > 0$).
Будет ли это топологическим пространством, если мы будем рассматривать арифметические прогрессии
в полной форме, в виде $a \cdot x + b$?
\end{enumerate}



\item Связность.
\begin{enumerate}
\item Связны ли $\mathbb{Q}$ и $\mathbb{R}\setminus\mathbb{Q}$ как топологические подпространства $\mathbb{R}$?
\item Связно ли множество $\{0,1\}$ в топологии стрелки и в топологии Зарисского?
\item Покажите, что дерево с отмеченным корнем (с рассмотренной на лекции топологией) связно.
\item Покажите, что если лес связен в топологическом смысле, то он состоит из одного дерева.
\end{enumerate}

\item Натуральный вывод был описан на лекции, но примеров доказательств не приводилось. Приведём такой пример: 
$$\infer{\alpha\with\beta\vdash\beta\with\alpha}{
    \infer{\alpha\with\beta\vdash\beta}{\infer{\alpha\with\beta\vdash\alpha\with\beta}{}}\quad\quad
    \infer{\alpha\with\beta\vdash\alpha}{\infer{\alpha\with\beta\vdash\alpha\with\beta}{}}
  }$$

Постройте следующие доказательства в натуральном выводе:

\begin{enumerate}
\item $\alpha\vdash\neg\neg\alpha$
\item $\neg \alpha\vee \beta\vdash \alpha \rightarrow \beta$
\item $\alpha \rightarrow \beta \vdash \neg \beta \rightarrow \neg \alpha$
\item $\alpha \vee \beta \vdash \neg (\neg\alpha\with\neg\beta)$
\end{enumerate}

\item Чтобы избежать путаницы, обозначим выводимость в ИИВ <<гильбертовского стиля>> как $\vdash_\text{г}$, 
а знак $\vdash$ в ИИВ <<системы натурального (естественного) вывода>> как $\vdash_\text{н}$.

Напомним, что языки гильбертовского и натурального выводов отличаются (обозначим эти
языки как $\mathcal{L}_\text{г}$ и $\mathcal{L}_\text{н}$ соответственно. 

Определим функции, отображающие языки друг в друга:
$|\cdot|_\text{н}: \mathcal{L}_\text{г}\rightarrow\mathcal{L}_\text{н}$ и
$|\cdot|_\text{г}: \mathcal{L}_\text{н}\rightarrow\mathcal{L}_\text{г}$.
Они сохраняют почти все значения,
кроме лжи ($\bot$) и отрицания ($\neg$): 

\begin{center}
\begin{tabular}{ll}
\begin{minipage}{0.4\hsize}
$$|\sigma|_\text{н} = \left\{\begin{array}{ll}
  |\alpha|_\text{н}\rightarrow\bot, &\sigma\equiv\neg\alpha\\
  |\alpha|_\text{н} \star |\beta|_\text{н}, &\sigma\equiv\alpha\star\beta\\
  X, & \sigma \equiv X
\end{array}\right.$$ 
\end{minipage}
&
\begin{minipage}{0.4\hsize}
$$|\sigma|_\text{г} = \left\{\begin{array}{ll}
  A\with\neg A, &\sigma\equiv\bot\\
  |\alpha|_\text{г} \star |\beta|_\text{г}, &\sigma\equiv\alpha\star\beta\\
  X, & \sigma \equiv X
\end{array}\right.$$
\end{minipage}
\end{tabular}
\end{center}

Естественным образом расширим эти операции на контексты: $|\gamma_1,\gamma_2,\dots,\gamma_n| = |\gamma_1|,|\gamma_2|,\dots,|\gamma_n|$.

\begin{enumerate}
\item Пусть $\Gamma\vdash_\text{г}\alpha$. Покажите, что $|\Gamma|_\text{н}\vdash_\text{н}|\alpha|_\text{н}$: 
предложите общую схему перестроения доказательства, постройте доказательства для трёх случаев базы 
(схема аксиом 2, схема аксиом 5, схема аксиом 9) и одного случая перехода индукции.
\item Пусть $\Gamma\vdash_\text{н}\alpha$. Покажите, что $|\Gamma|_\text{г}\vdash_\text{г}|\alpha|_\text{г}$
(постройте схему доказательства, и покажите один случай базы и три случая перехода индукции). 
\item Покажите аналог теоремы о дедукции: $\Gamma\vdash_\text{н}\alpha\rightarrow\beta$
тогда и только тогда, когда $\Gamma,\alpha\vdash_\text{н}\beta$.
\end{enumerate}

\item Покажите, что открытые множества топологического пространства с отношением порядка $(\subseteq)$ 
образуют импликативную решётку с нулём.

\item Напомним, что линейным порядком называется такой порядок $\langle X, \preceq \rangle$, что 
для любых $x,y \in X$ выполнено $x \preceq y$ или $y \preceq x$. Задаёт ли линейный порядок решётку?
Дистрибутивна, импликативна ли она, есть ли в ней 0 и 1?

\item Рассмотрим $\mathbb{N}_0$ (натуральные числа с нулём) с традиционным отношением порядка как решётку.
Каков будет смысл операций $(+)$, $(\cdot)$ и $(\rightarrow)$ в данной решётке, определены ли 0 или 1? 
Верно ли, что $2 \cdot 2 = 4$ или $2 + 2 = 4$? Приведите какие-нибудь три свойства традиционных определений 
$(+)$ и $(\cdot)$, которые будут всё равно выполнены при таком переопределении, и три свойства, которые 
перестанут выполняться.

\item Постройте следующие примеры:
\begin{enumerate}
\item непустого частично-упорядоченного множества, имеющего операцию $(+)$ для всех элементов, но не имеющего $(\cdot)$ для некоторых;
имеющего операцию $(\cdot)$ для всех элементов, но не имеющего $(+)$ для некоторых.
\item решётки, не являющейся дистрибутивной решёткой; импликативной решётки без 0.
\item дистрибутивной, но не импликативной решётки (эта решётка не может быть конечной).
\end{enumerate}

\item Покажите, что в дистрибутивной решётке (всегда $a + (b \cdot c) = (a + b) \cdot (a + c)$) также выполнено
и $(a + b)\cdot c = (a \cdot c) + (b \cdot c)$.

\item Покажите следующие тождества и свойства для импликативных решёток:
\begin{enumerate}
\item ассоциативность: $a + (b + c) = (a + b) + c$ и $a \cdot (b \cdot c) = (a \cdot b) \cdot c$;
\item монотонность: пусть $a \preceq b$ и $c \preceq d$, тогда $a + c \preceq b + d$ и $a \cdot c \preceq b \cdot d$;
\item \emph{Законы поглощения:} $a \cdot (a + b) = a$; $a + (a \cdot b) = a$;
\item $a \preceq b$ выполнено тогда и только тогда, когда $a \rightarrow b = 1$;
\item из $a \preceq b$ следует $b\rightarrow c \preceq a\rightarrow c$ и $c\rightarrow a \preceq c \rightarrow b$;
\item из $a \preceq b \rightarrow c$ следует $a \cdot b \preceq c$;
\item $b \preceq a \rightarrow b$ и $a \rightarrow (b \rightarrow a) = 1$;
\item $a \rightarrow b \preceq ((a \rightarrow (b \rightarrow c)) \rightarrow (a \rightarrow c))$;
\item $a \preceq b \rightarrow a \cdot b$ и $a \rightarrow (b \rightarrow (a \cdot b)) = 1$
\item $a \rightarrow c \preceq (b \rightarrow c) \rightarrow (a + b \rightarrow c)$
\item импликативная решётка дистрибутивна: $a + (b \cdot c) = (a + b) \cdot (a + c)$
\end{enumerate}

\item Докажите, основываясь на формулах предыдущих заданий, что ИИВ (вариант натурального вывода) 
корректно, если в качестве модели выбрать импликативную решётку с 0, а функции оценок определить так:
$$\begin{array}{ccc}
  \llbracket\alpha \with \beta\rrbracket & = & \llbracket\alpha\rrbracket \cdot \llbracket\beta\rrbracket \\
  \llbracket\alpha \vee \beta\rrbracket & = & \llbracket\alpha\rrbracket + \llbracket\beta\rrbracket \\
  \llbracket\alpha \rightarrow \beta\rrbracket & = & \llbracket\alpha\rrbracket \rightarrow \llbracket\beta\rrbracket \\
  \llbracket\neg\alpha\rrbracket & = & \llbracket\alpha\rrbracket \rightarrow 0 \\
  \llbracket\bot\rrbracket & = & 0 \\
\end{array}$$
Оценка турникета определяется через импликацию: 
$\llbracket \gamma_1,\dots,\gamma_n \vdash \alpha \rrbracket = \llbracket \gamma_1 \rightarrow \dots \gamma_n \rightarrow \alpha\rrbracket$.

\end{enumerate}

\section*{Задание №4. Интуиционистская логика.}

\begin{enumerate}
\item Покажите, что какая бы ни была формула $\alpha$ и модель Крипке,
если $W_i \Vdash \alpha$ и $W_i \preceq W_j$, то $W_j \Vdash \alpha$.

\item Общезначимы ли следующие высказывания в ИИВ? Опровергните, построив модель Крипке, или докажите, построив натуральный вывод. 
\begin{enumerate}
\item $P \vee \neg P$;
\item $\neg\neg P \rightarrow P$;
\item $P \vee \neg P \vee \neg\neg P \vee \neg\neg\neg P$;
\item $((P \rightarrow Q) \rightarrow P) \rightarrow P$;
\item $(A \rightarrow B) \vee (B \rightarrow C) \vee (C \rightarrow A)$;
\item $\neg(\neg A \with \neg B) \rightarrow A \vee B$;
\item $(\neg A \vee B) \rightarrow (A \rightarrow B)$;
\item $(A \rightarrow B) \rightarrow (\neg A \vee B)$;
\item $\neg\bot$.
\end{enumerate}

\item Рассмотрим некоторую модель Крипке $\langle\mathfrak{W},\preceq,\Vdash\rangle$. 
Пусть $\Omega = \{ \mathcal{W} \subseteq \mathfrak{W}\ |\ \text{если }W_i \in \mathcal{W}\text{ и }W_i \preceq W_j\text{, то } W_j \in \mathcal{W}\}$.
Пусть $\mathcal{W}_\alpha := \{ W_i \in \mathfrak{W}\ |\ W_i \Vdash \alpha \}$ (множество миров, где вынуждена формула $\alpha$).
\begin{enumerate}
\item На лекции формулировалась теорема без доказательства, что пара $\langle\mathfrak{W}, \Omega\rangle$ --- топологическое пространство. Докажите её.
\item Пусть $\mathcal{W}_\alpha$ и $\mathcal{W}_\beta$ --- открытые множества. Выразите $\mathcal{W}_{\alpha\with\beta}$ и $\mathcal{W}_{\alpha\vee\beta}$
через $\mathcal{W}_\alpha$ и $\mathcal{W}_\beta$ и покажите, что они также открыты.
\item Пусть $\mathcal{W}_\alpha$ и $\mathcal{W}_\beta$ --- открытые множества. Выразите $\mathcal{W}_{\alpha\rightarrow\beta}$ через 
них и покажите, что оно также открыто.
\item Покажите, что $\Omega$ --- в точности множество всех множеств миров, на которых может быть вынуждена какая-либо формула.
А именно, покажите, что для любой формулы $\alpha$ множество миров $\mathcal{W}_\alpha$, где она вынуждена, всегда открыто 
($\mathcal{W}_\alpha \in \Omega$) --- и что для любого открытого множества найдётся формула, которая вынуждена ровно на нём
(для $Q \in \Omega$ существует формула $\alpha$, что $\mathcal{W}_\alpha = Q$).
\end{enumerate}

\item Постройте топологическое пространство, соответствующее (в смысле предыдущего задания) модели Крипке, опровергающей
высказывание $\neg\neg P\rightarrow P$.
Постройте соответствующую ему табличную модель.
      
\item Назовём \emph{древовидной} моделью Крипке модель, в которой множество 
миров $\mathfrak{W}$ упорядочено как дерево: (a) существует наименьший мир 
$W_0$; (b) для любого $W_i \ne W_0$ существует единственный предшествующий мир
$W_k: W_k \prec W_i$.
\begin{enumerate}
\item Докажите, что любое высказывание, опровергаемое моделью Крипке, может 
быть опровергнуто древовидной моделью Крипке.
\item Найдите высказывание, которое не может быть опровергнуто древовидной моделью Крипке
высотой менее 2.
\item Покажите, что для любого натурального $n$ найдётся опровержимое в моделях Крипке высказывание,
неопровергаемое никакой моделью с $n$ мирами.
\end{enumerate}

\item Покажите, что модель Крипке с единственным миром задаёт классическую модель (в ней выполнены
все доказуемые в КИВ высказывания).

\item Пусть заданы алгебры Гейтинга $\mathcal{A},\mathcal{B}$, гомоморфизм $\varphi: \mathcal{A} \rightarrow \mathcal{B}$
и согласованные оценки $\llbracket\rrbracket_\mathcal{A}$ и $\llbracket\rrbracket_\mathcal{B}$: 
$\varphi(\llbracket\alpha\rrbracket_\mathcal{A}) = \llbracket\alpha\rrbracket_\mathcal{B}$.
\begin{enumerate}
\item Покажите, что гомоморфизм сохраняет порядок: если $a_1\preceq a_2$, то $\varphi(a_1) \preceq \varphi(a_2)$.
\item Покажите, что если $\llbracket \alpha \rrbracket_\mathcal{A} = 1_\mathcal{A}$, то $\llbracket\alpha\rrbracket_\mathcal{B} = 1_\mathcal{B}$.
\end{enumerate}

\item Пусть заданы алгебры Гейтинга $\mathcal{A},\mathcal{B}$. Всегда ли можно построить гомоморфизм $\varphi: \mathcal{A}\rightarrow\mathcal{B}$?

\item Пусть $\mathcal{A}$ --- алгебра Гейтинга. Покажите, что $\Gamma(\mathcal{A})$ --- алгебра Гейтинга и гёделева алгебра.

\item Пусть $\mathcal{A}$ --- булева алгебра. Всегда ли (возможно ли, что) $\Gamma(\mathcal{A})$ будет булевой алгеброй?
\end{enumerate}

\section*{Задание №5. Исчисление предикатов}
\begin{enumerate}
\item Докажем теоремы про подстановку и свободу для подстановки:
\begin{enumerate}
\item Рассмотрим замену $\alpha[x := y]$. Пусть в этой замене есть свобода для подстановки $y$ вместо $x$ в $\alpha$ и 
$y$ не входит свободно в $\alpha$. Необходимы ли оба условия --- или какое-нибудь следует из другого?
\item Если $y$ свободен
для подстановки вместо $x$ в $\alpha$, то
$\llbracket\alpha[x := y]\rrbracket = \llbracket\alpha\rrbracket^{ x := y }$.
\item Eсли $\theta$ свободна
для подстановки вместо $x$ в $\alpha$, то $\llbracket\alpha[x := \theta]\rrbracket = \llbracket\alpha\rrbracket^{ x := \theta }$.
\item Eсли нет свободы
для подстановки $\theta$ вместо $x$ в $\alpha$, то бывает, что 
$\llbracket\alpha[x := \theta]\rrbracket \ne \llbracket\alpha\rrbracket^{ x := \theta }$.
\item Возможны ли случаи, когда нет свободы
для подстановки $\theta$ вместо $x$ в $\alpha$, но $\llbracket\alpha[x := \theta]\rrbracket = \llbracket\alpha\rrbracket^{ x := \theta }$?
\end{enumerate}

\item Покажите, что исчисление предикатов корректно: 
\begin{enumerate}
\item если $\vdash \alpha$, то $\models\alpha$;
\item если $\Gamma\vdash\alpha$, то $\Gamma\models\alpha$
\end{enumerate}

\item Докажите следующие формулы в исчислении предикатов:
\begin{enumerate}
\item $(\forall x.\phi)\rightarrow (\forall y.\phi[x := y])$, если есть свобода для подстановки $y$ вместо $x$ в $\phi$ и $y$ не входит свободно в $\phi$.
\item $(\exists x.\phi)\rightarrow (\exists y.\phi[x := y])$, если есть свобода для подстановки $y$ вместо $x$ в $\phi$ и $y$ не входит свободно в $\phi$.
\item $(\forall x.\phi)\rightarrow (\exists x.\phi)$
\item $(\forall x.\forall x.\phi) \rightarrow (\forall x.\phi)$
\item $(\forall x.\phi) \rightarrow (\neg \exists x.\neg \phi)$ 
\item $(\exists x.\phi) \rightarrow (\neg \forall x.\neg \phi)$
\item $(\forall x.\neg\phi) \rightarrow (\neg \exists x.\phi)$ 
\item $(\exists x.\neg\phi) \rightarrow (\neg \forall x.\phi)$
\end{enumerate}

\item Опровергните формулы $\phi\rightarrow\forall x. \phi$ и $(\exists x.\phi)\rightarrow (\forall x.\phi)$

\item Рассмотрим формулу $\alpha$ с двумя свободными переменными $x$ и $y$ (мы предполагаем,
что эти метапеременные соответствуют разным переменным).
Определите, какие из сочетаний кванторов выводятся из каких --- и приведите соответствующие
доказательства или опровержения:
\begin{enumerate}
\item $\forall x.\forall y.\alpha$, $\forall y.\forall x.\alpha$
\item $\exists x.\exists y.\alpha$, $\exists y.\exists x.\alpha$
\item $\forall x.\forall y.\alpha$, $\forall x.\exists y.\alpha$, $\exists x.\forall y.\alpha$, $\exists x.\exists y.\alpha$
\item $\forall x.\exists y.\alpha$, $\exists y.\forall x.\alpha$
\end{enumerate}
 
\item Научимся выносить квантор всеобщности <<наружу>>:
\begin{enumerate}
\item Покажите, что если $x$ не входит свободно в $\alpha$, то
$$
\vdash(\alpha \with \forall x.\beta) \rightarrow (\forall x.\alpha\with\beta)\quad
\mbox{и}\quad
\vdash((\forall x.\beta)\with\alpha) \rightarrow (\forall x.\beta\with\alpha)\quad
$$
\item Покажите, что $$\vdash((\forall x.\alpha) \with (\forall y.\beta)) \rightarrow \forall x.\forall y.\alpha\with\beta$$
где $x$ не входит свободно в $\beta$, а $y$ --- в $\alpha$. 
\end{enumerate}

\item Научимся вносить квантор всеобщности <<внутрь>>:
\begin{enumerate}
\item Покажите, что если $x$ не входит свободно в $\alpha$, то
$$
\vdash (\forall x.\alpha\with\beta)\rightarrow(\alpha \with \forall x.\beta)\quad
\mbox{и}\quad
\vdash (\forall x.\beta\with\alpha)\rightarrow((\forall x.\beta)\with\alpha)\quad
$$

\item Покажите, что если $x$ не входит свободно в $\beta$, а $y$ --- в $\alpha$, то
$$\vdash(\forall x.\forall y.\alpha\with\beta) \rightarrow (\forall x.\alpha) \with (\forall y.\beta)$$
\end{enumerate}

\item Научимся работать со спрятанными глубоко кванторами. Пусть $\vdash\alpha\rightarrow\beta$, тогда:
\begin{enumerate}
\item Докажите: $$\vdash\psi\vee\alpha \rightarrow \psi\vee\beta\quad\vdash\psi\with\alpha \rightarrow \psi\with\beta\quad
\vdash(\psi\rightarrow\alpha) \rightarrow (\psi\rightarrow\beta)\quad\vdash(\beta\rightarrow\psi) \rightarrow (\alpha\rightarrow\psi)$$
\item Сформулируйте и докажите аналогичное свойство для отрицания.
\item Докажите $\vdash(\forall x.\alpha)\rightarrow(\forall x.\beta)$. 
Надо ли наложить на формулы $\alpha$ и $\beta$ какие-либо ограничения?
\item Докажите $\vdash(\exists x.\alpha)\rightarrow(\exists x.\beta)$. 
Надо ли наложить на формулы $\alpha$ и $\beta$ какие-либо ограничения?
\end{enumerate}

\end{enumerate}

\section*{Задание №6. Неразрешимость исчисления предикатов, аксиоматика Пеано и формальная арифметика}

\begin{enumerate}
\item Постройте машины Тьюринга:
\begin{enumerate}
\item Превращающую строку из 0 и 1 в пустую (заменяет все символы на $\varepsilon$);
\item Прибавляющую 1 к двоичному числу на ленте;
\item Разрешающую язык четверичных чисел, делящихся на 3 (оставляющую на ленте букву 
<<д>> или <<н>>, в зависимости от делимости);
\item Копирующую строку из 0 и 1, заканчивающуюся на *, на свободное место на ленте за 
звёздочкой. Например, \verb!10100*! станет \verb!10100*10100!.
\end{enumerate}

\item Предложите способ закодировать машину Тьюринга в алфавите из конечного количества символов
(количество не должно зависеть от машины).

\item Покажите в аксиоматике Пеано:
\begin{enumerate}
\item ассоциативность сложения;
\item коммутативность умножения;
\item дистрибутивность $(a + b) \cdot c = a \cdot c + b \cdot c$;
\item ассоциативность умножения;
\end{enumerate}

\item Рассмотрим аксиоматику Пеано. Определим отношение <<меньше или равно>> так: $0 \le a$ и $a' \le b'$, если $a \le b$. Покажите, что:
\begin{enumerate}
\item $x \le x+y$;
\item $x \le x \cdot y$ (укажите, когда это так --- в остальных случаях приведите контрпримеры);
\item $a'' + b'' \le (a'') \cdot (b'')$;
\item Если существует $n$, что $x + n  = y$, то $x \le y$.
\item Будем говорить, что $a$ делится на $b$ с остатком, если существуют такие $p$ и $q$, что 
$a = b \cdot p + q$ и $0 \le q < b$. Покажите, что $p$ и $q$ всегда существуют и единственны,
если $b > 0$.
\end{enumerate}

\item Обозначим за $\overline{n}$ представление числа $n$ в формальной арифметике, по сути это ноль с $n$ штрихами:

$$\overline{n} = \left\{\begin{array}{ll}0, &n = 0\\
           (\overline{k})', & n=k+1\end{array}\right.$$

Докажите в формальной арифметике:
\begin{enumerate}
\item $\vdash \overline{2} \cdot \overline{2} = \overline{4}$ (теперь вы знаете правду);
\item $\vdash \forall p.(\exists q.q' = p) \vee p = 0$ (единственность нуля --- нужна ли здесь аксиома А3?);
\item $\vdash p \cdot q = 0 \rightarrow p = 0 \vee q = 0$ (отсутствие делителей нуля);
\end{enumerate}

\item Будем говорить, что $k$-местное отношение $R$ выразимо в формальной арифметике,
если существует формула формальной арифметики $\rho$ со свободными переменными $x_1, \dots, x_k$, что:
\begin{enumerate}
\item для всех $\langle a_1, \dots, a_k \rangle \in R$ выполнено $\vdash\rho[x_1 := \overline{a_1}]\dots[x_k := \overline{a_k}]$
(доказуема формула $\rho$ с подставленными значениями $a_1, \dots, a_k$ вместо свободных переменных $x_1, \dots, x_k$);
\item для всех $\langle a_1, \dots, a_k \rangle \notin R$ выполнено $\vdash\neg\rho[x_1 := \overline{a_1}]\dots[x_k := \overline{a_k}]$.
\end{enumerate}

Выразите в формальной арифметике (укажите формулу $\rho$ и докажите требуемые свойства про неё):
\begin{enumerate}
\item <<полное>> отношение $R = \mathbb{N}^2$;
\item отношение $(=)$;
\item унарное отношение <<быть чётным числом>>.
\end{enumerate}

\end{enumerate}

\section*{Задание №7. Выразимость и представимость. Теорема Гёделя о неполноте арифметики.}
\begin{enumerate}
\item Докажите, что следующие функции примитивно-рекурсивны. Для каждой функции предложите программу; например, на языке C++ (с шаблонами),
или на любом другом языке, где можно формально записать выражение для рекурсивной функции.
\begin{enumerate}
\item ограниченное вычитание: $$a \dotminus b = \left\{\begin{array}{ll}a - b,&a \ge b\\0, &\text{иначе}\end{array}\right.$$
\item умножение;
\item возведение в степень;
\item целочисленное деление;
\item остаток от деления;
\item проверка числа на простоту;
\item поиск $n$-го простого числа;
\item наибольший общий делитель двух чисел;
\item частичный логарифм;
\item пусть $l = 2^{a_0} \cdot 3^{a_1} \cdot \dots \cdot {p_{n-1}}^{a_{n-1}}$, определите функцию <<голова списка>>;
\item хвост списка;
\item конкатенация списков.
\end{enumerate}
\item Покажите, что функция Аккермана рекурсивна, для этого:
\begin{enumerate}
\item реализуйте стек: функции добавления элемента в стек и изъятия элемента из стека;
\item реализуйте функцию Аккермана.
\end{enumerate}
\item Докажите (без пропусков частей доказательств), что следующие функции представимы в формальной арифметике:
\begin{enumerate}
\item примитив $Z$;
\item примитив $N$;
\item декремент (ограниченное вычитание 1).
\end{enumerate}
\item Найдите константы $b$ и $c$ бета-функции Гёделя для последовательности трёх чисел $10,3,7$.
\item Определим характеристическую функцию для отношения $R$:
$$C_R(x_1, \dots, x_n) = \left\{\begin{array}{ll}1,&\langle x_1,\dots,x_n\rangle \in R\\0,&\text{иначе}\end{array}\right.$$
Покажите, что $C_R(x_1,\dots,x_n)$ представимо в формальной арифметике тогда и только тогда, когда $R$ выразимо 
в формальной арифметике.
\item Покажите, что в теории первого порядка доказуемы все формулы тогда и только тогда, когда доказуема формула $\overline{1} = 0$
(иными словами, когда теория противоречива).
\item Предложите непротиворечивую, но $\omega$-противоречивую теорию первого порядка.
\end{enumerate}

\section*{Задание 8. Теория множеств}
\begin{enumerate}
\item Пусть заданы списки (в любом языке программирования) $L(\alpha)$, хранящие значения типа $\alpha$.
Реализуйте следующие функции, являющиеся аналогами конструктивных аксиом теории множеств:
\begin{enumerate}
\item $\texttt{empty}: L(\alpha)$, строит пустой список, и $\texttt{pair}: (\alpha, \alpha) \rightarrow L(\alpha)$, формирует список из двух своих аргументов.
\item $\texttt{flatten}: L(L(\alpha)) \rightarrow L(\alpha)$, соединяет все списки внутри списка в один.
\item $\texttt{powerset}: L(\alpha) \rightarrow L(L(\alpha))$, делает из списка список всех возможных подсписков.
\item $\texttt{filter}: (\alpha \rightarrow \texttt{bool}) \rightarrow L(\alpha) \rightarrow L(\alpha)$,
выделяет из списка все элементы, соответствующие условию.
\end{enumerate}
\item На самом деле ординалы --- это не списки, а деревья. Перепишите задачу 1 соответствующим образом,
и напишите функцию $\texttt{ordinal}: \texttt{int} \rightarrow \texttt{set}$, строящую ординал,
соответствующий заданному числу. Множество можно строить только через аналоги функций из 1 задания.
\item Определим упорядоченную пару $\langle a,b\rangle := \{\{a\},\{a,b\}\}$. Покажите, что:
\begin{enumerate}
\item Упорядоченная пара --- множество.
\item $\langle a,b \rangle = \langle c,d\rangle$ тогда и только тогда, когда $a = c$ и $b = d$.
\end{enumerate}
\item Докажите, что следующие конструкции являются множествами: 
\begin{enumerate}
\item пересечение всех элементов множества ($\bigcap a$);
\item $a\ \setminus\ b$ (разность множеств);
\item $a \uplus b$ (дизъюнктное объединение множеств: $\{\langle x,0\rangle\mid x\in a\}\cup\{\langle x,1\rangle\mid x\in b\}$);
\item $a \times b$ (декартово произведение множеств: $\{\langle p,q\rangle\ |\ p\in a, q\in b\}$).
\end{enumerate}
\item Определите формулу $\varphi(x)$ для свойства <<$x$ --- конечный ординал>>. Укажите замкнутый
вид для формулы $\omega$.
\item Покажите, что если $x$ --- ординал, то $x'$ --- тоже ординал.
\item Верно ли, что если $x'$ --- ординал, то $x$ --- тоже ординал?
\item Покажите, что на множестве $\omega$ выполняется аксиоматика Пеано (полная формализация рассуждений не требуется,
но из изложения должно быть понятно, как эту формализацию в рамках теории первого порядка получить):
\begin{enumerate}
\item $\forall x.x \in \omega \rightarrow \neg x' = \varnothing$
\item $\forall x.\forall y.x \in \omega \with y \in \omega \rightarrow x' = y' \rightarrow x = y$
\item (\emph{указание к следующему пункту}) покажите, что если $\vdash\forall x.\neg\phi(x)\rightarrow A\with\neg A$, то $\vdash\forall x.\phi(x)$.
\item Если $\phi(\varnothing)$ и $\forall x.x \in \omega \rightarrow \phi(x) \rightarrow \phi(x')$, 
то $\forall x.x \in \omega \rightarrow \phi(x)$.
\end{enumerate}
\item Проверьте следующие равенства (докажите или опровергните):
\begin{enumerate}
\item $\omega\cdot\overline{2} = \overline{2}\cdot\omega$
\item $\omega\cdot\overline{2} = \omega + \omega$
\item $(\omega+\overline{1})^{\overline{2}} = \omega^{\overline{2}} + \overline{2}\cdot \omega + \overline{1}$
\item $\omega ^ \omega = (\omega ^ {\overline{2}}) ^ \omega$
\item $\omega ^ {\omega + \overline{1}} = \omega ^ \omega + \overline{1}$
\item Имеет ли место ассоциативность сложения и/или умножения?
\end{enumerate}
\end{enumerate}

\section*{Задание 9. Аксиома выбора. Мощность множеств}
\begin{enumerate}
\item Верно ли, что $1^\omega = \omega$ и/или $\omega^1 = \omega$?
\item Зачёт за пункт ставится, если одновременно решены два подпункта:
(i) Покажите, что множество $\omega^\omega$ имеет счётную мощность. 
(ii) Определим $\uparrow k$ (башню из омег) так:

$$\uparrow k = \left\{\begin{array}{ll}\omega,&k = 1\\\omega^{\uparrow n},&k = n'\end{array}\right.$$

Скажем, $\uparrow 3 = \omega^{\left(\omega^\omega\right)}$. Будет ли счётным ординал $\sup\{\uparrow k\ |\ k \in \omega\}$?
\item Существует ли ординал, которому соответствует множество неотрицательных рациональных чисел и упорядоченность на нём?
То есть, существует ли ординал $\sigma$, что существует биекция $f: \mathbb{Q^+} \rightarrow \sigma$, причём
для всех $a,b \in \mathbb{Q^+}$ из $a \le b$ следует $f(a) \le f(b)$ (и обратно).
\item Верно ли, что для любого отношения полного порядка на счётном множестве существует соответствующий ему ординал,
имеющий тот же порядок?
\item Покажите следующее (обозначим за $\mathcal{F}(p,q)$ множество функций из $p$ в $q$):
\begin{enumerate}
\item $|a|=0$ тогда и только тогда, когда $a = \varnothing$;
\item если $|a|\le|b|$, то $|\mathcal{F}(g,a)| \le |\mathcal{F}(g,b)|$;
\item если $|a|\le|b|$ и $\overline{0}<|g|$, то $|\mathcal{F}(a,g)| \le |\mathcal{F}(b,g)|$;
\item $|\mathcal{F}(\overline{0},a)| = \overline{1}$, $|\mathcal{F}(\overline{1},a)| = \overline{1}$; если $|a| > 0$, то $|\mathcal{F}(a,\overline{0})| = \overline{0}$;
\item если $|a|\ge\aleph_0$ и $0 < |n| < \aleph_0$, то $|\mathcal{F}(a,n)| = a$.
\end{enumerate}
\item Покажите эквивалентность следующих определений конечного множества (задание $(k)$ предполагает доказательство
импликации $(k)\rightarrow(k')$; возможно, некоторые из переходов потребуют аксиому выбора):
\begin{enumerate}
\item $a$ конечно, если каждое непустое семейство подмножеств $a$ имеет максимальный по включению элемент.
Например, при $a = \{0,1,2\}$ в семействе подмножеств $\{\varnothing,\{0,1\},\{1,2\}\}$ элементы $\{0,1\}$ и $\{1,2\}$ --- максимальны.
\item $a$ конечно, если $\mathcal{P}(a)$ не равномощно своему собственному подмножеству (собственное подмножество --- подмножество, не совпадающее с множеством).
\item $a$ конечно, если оно не равномощно своему собственному подмножеству.
\item $a$ конечно, если $|a|=\varnothing$ или $|a|\cdot\overline{2} > |a|$.
\item $a$ конечно, если $|a|=\varnothing$ или $|a|=\overline{1}$ или $|a|^2 > |a|$.
\item $a$ конечно, если $|a|<\aleph_0$.
\end{enumerate}
\item Покажите, что функция $f: a \rightarrow b$ биективна (т.е. инъективна и сюрьективна) тогда и только тогда,
когда $\forall y.\exists!x.\phi(x,y)$. Здесь за $\phi(x,y)$ мы обозначаем формулу, представляющую функцию $f$
в теории множеств, по аналогии с формальной арифметикой.
\item Покажите, что если $a$ и $b$ --- непустые множества, то существует функция из $a$ в $b$ 
(однако, функция не обязана быть инъективной или сюрьективной).
\item Пусть множество $a$ вполне упорядоченное. Назовём множество $\{ x\in a \mid x < y\}$, где $y\in a$, начальным отрезком $a$. 
Рассмотрим произвольную пару вполне упорядоченных множеств $a$ и $b$.
Покажите, что либо между $a$ и $b$ есть биекция, сохраняющая порядок (такая, что $x < y$ влечёт $f(x) < f(y)$), либо есть инъективное отображение из одного множества в начальный отрезок другого, также сохранающее порядок.
\end{enumerate}

\section*{Задание 10. Система $S_\infty$}

\begin{enumerate}
\item Определите отношение <<больше или равно>>. Покажите, что $x^2 \ge x$.
\item Покажите аксиому $\forall a.a \cdot 0 = 0$.
\item Постройте и докажите дополнительное правило вывода $$\infer{\forall a.\forall b.a' = b'}{\forall a.\forall b.a = b}$$ 
Какой порядок имеет доказательство?
\item Постройте утверждение, доказательство которого не может иметь порядок, меньший $\omega$.
\item Добавьте в исчисление связку $(\rightarrow)$ и:
\begin{enumerate}
\item Введите правила для импликации. Покажите, что в $S_\infty$ эти правила выполнены.
\item Покажите, что если $\pi$ и $\rho$ --- замкнутые формулы, то 
в $S_\infty$ выполнен закон Пирса ($((\pi\rightarrow\rho)\rightarrow\pi)\rightarrow\pi$).
\end{enumerate}
\item Пусть формулы $\alpha\rightarrow\beta\rightarrow\alpha$ и
$(\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\beta\rightarrow\gamma)\rightarrow(\alpha\rightarrow\gamma)$ 
доказаны при любых формулах $\alpha$, $\beta$ и $\gamma$. 
\begin{enumerate}
\item Достройте доказательство $$\infer{\alpha\rightarrow\alpha}{\alpha\rightarrow(\alpha\rightarrow\alpha)\rightarrow\alpha
                             \quad\quad(\alpha\rightarrow(\alpha\rightarrow\alpha)\rightarrow\alpha)\rightarrow(\alpha\rightarrow\alpha)}$$
\item Устраните сечения согласно методу из разобранной на занятии теоремы из доказательства в предыдущем пункте.
\end{enumerate}
\end{enumerate}

\section*{Задание 11. Лямбда-исчисление}

\begin{enumerate}
\item Напомним правила расстановки скобок в лямбда-выражениях. Лямбда-абстракция ведёт себя жадно: 
включает всё, что может. Пример: $\lambda z.(\lambda x.a\ b\ c\ \lambda y.d\ e)\ f$ 
эквивалентно $\lambda z.((\lambda x.(a\ b\ c\ (\lambda y.(d\ e))))\ f)$.
В аппликациях скобки расставляются слева направо:
$\lambda z.(\lambda x.(a\ b\ c\ (\lambda y.(d\ e))))\ f$ можно преобразовать в  
$(\lambda z.((\lambda x.((((a\ b)\ c)\ (\lambda y.(d\ e)))))\ f))$.

\begin{enumerate}
\item Расставьте скобки в выражении:
$\lambda z.\lambda x.a\ b\ c\ \lambda y.d\ e\ f$
\item Уберите все <<лишние>> скобки из выражения:
$(\lambda f.((\lambda x.(f\ (f\ (x\ (\lambda z.(z\ x))))))\ z))$
\item Всегда ли лишние скобки можно убрать единственным образом (когда из результирующего
выражения нельзя больше убрать ни одной пары скобок)? Докажите или опровергните.
\end{enumerate}

\item Напомним/дадим следующие определения:

\begin{enumerate}
\item Бета-редекс --- выражение вида $(\lambda x.A) B$

\item Редукция лямбда-выражения --- подстановка выражения вместо переменной в бета-редексе:
$(\lambda x.A)\ B \rightarrow_\beta A[x:=B]$. Замена может производиться внутри выражения:
$\lambda s.(\lambda x.x)\ t \rightarrow_\beta \lambda s.t$

\item Многошаговая бета-редукция (бета-редуцируемость) --- транзитивное и рефлексивное
замыкание бета-редукции: $(\lambda x.x)\ (\lambda x.x)\ (\lambda x.x)\ (\lambda x.x) \twoheadrightarrow_\beta \lambda x.x$

\item Лямбда-выражение в нормальной форме --- в нём невозможно сделать ни одной редукции.

\item Некоторые термы для представления логических выражений в лямбда-исчислении:

\begin{tabular}{lll}
Обозначение & лямбда-терм & название\\\hline
$T$ & $\lambda a.\lambda b.a$ & истина\\
$F$ & $\lambda a.\lambda b.b$ & ложь\\
$Not$ & $\lambda x.x\ F\ T$ & отрицание\\
$And$ & $\lambda x.\lambda y.x\ y\ F$ & конъюнкция
\end{tabular}

\end{enumerate}
Проредуцируйте следующие выражения и найдите нормальную форму:

\begin{enumerate}
\item $T\ F$
\item $(T\ Not\ (\lambda t.t))\ F$
\item $And\ (And\ F\ F)\ T$
\end{enumerate}

\item Постройте лямбда-выражения для следующих булевских выражений:
\begin{enumerate}
\item Дизъюнкция
\item Стрелка Пирса (<<или-не>>)
\item Исключающее или
\end{enumerate}

\item Напомним определения с лекций:

$$f^{(n)}\ X ::= \left\{\begin{array}{ll} X, & n=0\\
                                f^{(n-1)}\ (f\ X), & n>0\end{array}\right.$$

\begin{center}\begin{tabular}{lll}
Обозначение & лямбда-терм & название\\\hline
$\overline{n}$ & $\lambda f.\lambda x.f^{(n)}\ x$ & чёрчевский нумерал\\
$(+1)$ & $\lambda n.\lambda f.\lambda x.n\ f\ (f\ x)$ & прибавление 1\\
$(+)$ & $\lambda a.\lambda b.a\ (+1)\ b$ & сложение\\
\end{tabular}\end{center}

Используя данные определения и определения операций из аксиоматики Пеано, 
постройте выражения для следующих операций над числами. Для демонстрации
корректности работы используйте интерпретатор лямбда-исчисления, например
LCI \texttt{http://www.chatzi.org/lci/}.

\begin{enumerate}
\item Умножение на 2 ($Mul2$)
\item Умножение
\item Возведение в степень
\item Проверка на чётность
\item IsZero: возвращает $T$, если аргумент равен нулю, иначе $F$
\item Деление на 3
\end{enumerate}

\item Ещё немного определений:

\begin{tabular}{lll}
Обозначение & лямбда-терм & название\\\hline
$MkPair$ & $\lambda a.\lambda b.(\lambda x.x\ a\ b)$ & создание пары\\
$PrL$ & $\lambda p.p\ T$ & левая проекция\\
$PrR$ & $\lambda p.p\ F$ & правая проекция\\\hline
\end{tabular}

\begin{enumerate}
\item Убедитесь, что $PrL\ (MkPair\ a\ b) \twoheadrightarrow_\beta a$.
\item Постройте операцию вычитания 1 из числа
\item Постройте операцию вычитания чисел
\item Постройте операцию деления на 3 (могут потребоваться пары и/или вычитания)
\item Постройте операцию деления чисел
\item Сравнение двух чисел ($IsLess$) — истина, если первый аргумент меньше второго.
\end{enumerate}

Для демонстрации
корректности работы используйте интерпретатор лямбда-исчисления, например
LCI \texttt{http://www.chatzi.org/lci/}.

\item Покажите при помощи изоморфизма Карри-Ховарда следующие высказывания (для
демонстрации укажите выражение на Хаскеле/Окамле, имеющее соответствующий тип):
\begin{enumerate}
\item $\alpha\rightarrow\beta\rightarrow\alpha$
\item $(\alpha\rightarrow\beta)\rightarrow(\alpha\rightarrow\neg\beta)\rightarrow\neg\alpha$
\item $\alpha\rightarrow\neg\neg\alpha$
\item $(\neg\alpha\vee\beta)\rightarrow(\alpha\rightarrow\beta)$
\item $(\alpha\with\beta)\rightarrow\neg(\neg\alpha\vee\neg\beta)$
\end{enumerate}

\item Алгебраические типы называются так потому, что позволяют ввести своеобразную
алгебру на типах: собственно алгебраический тип (тип-сумма) ($\alpha + \beta$) --- сумма, 
пара ($\alpha \times \beta$) --- произведение, функция
($\alpha \rightarrow \beta$) --- возведение в степень $\beta^\alpha$.
Докажите следующие тождества (напишите две функции --- первая из правой части 
равенства делает левую, а вторая --- из левой правую):

\begin{enumerate}
\item $\alpha \times (\beta+\gamma) = \alpha\times\beta + \alpha\times\gamma$
\item $\alpha ^ {\beta + \gamma} = \alpha ^ \beta \times \alpha ^ \gamma$
\item $\alpha ^ {\beta \times \gamma} = \left(\alpha ^ \beta\right) ^ \gamma$ (иначе называется \emph{карринг})
\end{enumerate}

\end{enumerate}

\end{document}
